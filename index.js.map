{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryElement = document.querySelector('.gallery');\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captions: true,\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionType: 'attr',\n  captionsData: 'alt',\n});\n\nexport const renderGallery = (images) => {\n  const markup = images.reduce(\n    (\n      acc,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) => {\n      return (\n        acc +\n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n          <div class=\"description\">\n            <span class=\"description-item\"><span>Likes</span> ${likes}</span>\n            <span class=\"description-item\"><span>Views</span> ${views}</span>\n            <span class=\"description-item\"><span>Comments</span> ${comments}</span>\n            <span class=\"description-item\"><span>Downloads</span> ${downloads}</span>\n          </div>\n        </a>\n      </li>`\n      );\n    },\n    ''\n  );\n\n  galleryElement.innerHTML = markup;\n  gallery.refresh();\n};\n\nexport const toggleLoading = (element) => {\n  element.classList.toggle('loading');\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { renderGallery, toggleLoading } from './render-functions';\n\nconst URI = 'https://pixabay.com/api/';\nconst API_KEY = '46847728-6b7b012d3b9a78a4f273a5faa';\n\nexport const fetchImages = (key, element) => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: key,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${URI}?${searchParams}`;\n  toggleLoading(element);\n  fetch(url)\n    .then((response) => response.json())\n    .then(({ hits: images }) => {\n      toggleLoading(element);\n      if (!images.length) {\n        iziToast.error({\n          title: 'Error',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n        });\n        return;\n      }\n      renderGallery(images);\n    });\n};\n","import { fetchImages } from './js/pixabay-api';\n\nconst form = document.querySelector('.search-form');\nconst error = document.querySelector('.error');\nconst loaderElement = document.querySelector('.loader');\n\nlet searchKey = '';\n\nconst onInput = (event) => {\n  error.innerHTML = '';\n  searchKey = event.target.value.trim();\n};\n\nform.addEventListener('input', onInput);\n\nconst onSubmit = (event) => {\n  event.preventDefault();\n\n  if (!searchKey) {\n    error.innerHTML = 'Please add search keyword';\n    return;\n  }\n  fetchImages(searchKey, loaderElement);\n  form.reset();\n};\n\nform.addEventListener('submit', onSubmit);\n"],"names":["galleryElement","gallery","SimpleLightbox","renderGallery","images","markup","acc","webformatURL","largeImageURL","tags","likes","views","comments","downloads","toggleLoading","element","URI","API_KEY","fetchImages","key","searchParams","url","response","iziToast","form","error","loaderElement","searchKey","onInput","event","onSubmit"],"mappings":"6vBAGA,MAAMA,EAAiB,SAAS,cAAc,UAAU,EAElDC,EAAU,IAAIC,EAAe,aAAc,CAC/C,eAAgB,GAChB,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,YAAa,OACb,aAAc,KAChB,CAAC,EAEYC,EAAiBC,GAAW,CACvC,MAAMC,EAASD,EAAO,OACpB,CACEE,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAGtEP,EACA;AAAA,wCACgCE,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA,gEAGyCC,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA,aAMzE,EACJ,EAEEb,EAAe,UAAYK,EAC3BJ,EAAQ,QAAO,CACjB,EAEaa,EAAiBC,GAAY,CACxCA,EAAQ,UAAU,OAAO,SAAS,CACpC,EC5CMC,EAAM,2BACNC,EAAU,qCAEHC,EAAc,CAACC,EAAKJ,IAAY,CAC3C,MAAMK,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKE,EAAM,GAAGL,CAAG,IAAII,CAAY,GAClCN,EAAcC,CAAO,EACrB,MAAMM,CAAG,EACN,KAAMC,GAAaA,EAAS,KAAI,CAAE,EAClC,KAAK,CAAC,CAAE,KAAMlB,KAAa,CAE1B,GADAU,EAAcC,CAAO,EACjB,CAACX,EAAO,OAAQ,CAClBmB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,EACD,MACD,CACDpB,EAAcC,CAAM,CAC1B,CAAK,CACL,EC5BMoB,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAgB,SAAS,cAAc,SAAS,EAEtD,IAAIC,EAAY,GAEhB,MAAMC,EAAWC,GAAU,CACzBJ,EAAM,UAAY,GAClBE,EAAYE,EAAM,OAAO,MAAM,KAAI,CACrC,EAEAL,EAAK,iBAAiB,QAASI,CAAO,EAEtC,MAAME,EAAYD,GAAU,CAG1B,GAFAA,EAAM,eAAc,EAEhB,CAACF,EAAW,CACdF,EAAM,UAAY,4BAClB,MACD,CACDP,EAAYS,EAAWD,CAAa,EACpCF,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,SAAUM,CAAQ"}